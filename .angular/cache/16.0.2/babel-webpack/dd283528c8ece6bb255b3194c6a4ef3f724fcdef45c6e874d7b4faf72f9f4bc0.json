{"ast":null,"code":"import { createReducer, on } from \"@ngrx/store\";\nimport { setCart, updateCart } from \"./cart.actions\";\nconst initialState = {\n  cart: []\n};\nexport const cartReducer = createReducer(initialState, on(setCart, (state, action) => {\n  //TODO console.log(action)\n  return {\n    ...state,\n    cart: action.value\n  };\n}), on(updateCart, (state, action) => {\n  const cartMealIndex = state.cart.findIndex(item => item.id === action.value);\n  if (cartMealIndex >= 0) {\n    const cartCopy = [...state.cart];\n    cartCopy[cartMealIndex].count++;\n    return {\n      ...state,\n      cart: cartCopy\n    };\n  }\n  return {\n    ...state,\n    cart: [...state.cart, {\n      id: action.value,\n      count: 1\n    }]\n  };\n}));","map":{"version":3,"names":["createReducer","on","setCart","updateCart","initialState","cart","cartReducer","state","action","value","cartMealIndex","findIndex","item","id","cartCopy","count"],"sources":["C:\\Users\\andrii.yakovliev\\Desktop\\projects\\2024\\udemy\\ANGULAR_COURSE\\01-starting-setup-standalone\\src\\app\\store\\cart\\cart.reducer.ts"],"sourcesContent":["import {createReducer, on} from \"@ngrx/store\";\r\nimport {setCart, updateCart} from \"./cart.actions\";\r\n\r\nexport interface ICart {\r\n  id: string,\r\n  count: number\r\n}\r\n\r\nexport interface ICartStore {\r\n  cart: ICart[]\r\n}\r\n\r\nconst initialState: ICartStore = {\r\n  cart: [],\r\n}\r\nexport const cartReducer = createReducer(initialState,\r\n  on(setCart, (state, action) => {\r\n    //TODO console.log(action)\r\n    return {...state, cart: action.value}\r\n  }),\r\n  on(updateCart, (state, action) => {\r\n    const cartMealIndex = state.cart.findIndex((item) => item.id === action.value)\r\n\r\n    if (cartMealIndex >= 0) {\r\n      const cartCopy = [...state.cart]\r\n      cartCopy[cartMealIndex].count++\r\n      return {...state, cart: cartCopy}\r\n    }\r\n\r\n    return {...state, cart: [...state.cart, {id: action.value, count: 1}]}\r\n  })\r\n)\r\n"],"mappings":"AAAA,SAAQA,aAAa,EAAEC,EAAE,QAAO,aAAa;AAC7C,SAAQC,OAAO,EAAEC,UAAU,QAAO,gBAAgB;AAWlD,MAAMC,YAAY,GAAe;EAC/BC,IAAI,EAAE;CACP;AACD,OAAO,MAAMC,WAAW,GAAGN,aAAa,CAACI,YAAY,EACnDH,EAAE,CAACC,OAAO,EAAE,CAACK,KAAK,EAAEC,MAAM,KAAI;EAC5B;EACA,OAAO;IAAC,GAAGD,KAAK;IAAEF,IAAI,EAAEG,MAAM,CAACC;EAAK,CAAC;AACvC,CAAC,CAAC,EACFR,EAAE,CAACE,UAAU,EAAE,CAACI,KAAK,EAAEC,MAAM,KAAI;EAC/B,MAAME,aAAa,GAAGH,KAAK,CAACF,IAAI,CAACM,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACC,KAAK,CAAC;EAE9E,IAAIC,aAAa,IAAI,CAAC,EAAE;IACtB,MAAMI,QAAQ,GAAG,CAAC,GAAGP,KAAK,CAACF,IAAI,CAAC;IAChCS,QAAQ,CAACJ,aAAa,CAAC,CAACK,KAAK,EAAE;IAC/B,OAAO;MAAC,GAAGR,KAAK;MAAEF,IAAI,EAAES;IAAQ,CAAC;;EAGnC,OAAO;IAAC,GAAGP,KAAK;IAAEF,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAI,EAAE;MAACQ,EAAE,EAAEL,MAAM,CAACC,KAAK;MAAEM,KAAK,EAAE;IAAC,CAAC;EAAC,CAAC;AACxE,CAAC,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}