{"ast":null,"code":"import { createEffect, ofType } from \"@ngrx/effects\";\nimport { switchMap, of } from \"rxjs\";\nimport { MEALS_ACTIONS, updateMeals } from \"./meals.actions\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@ngrx/effects\";\nimport * as i3 from \"@ngrx/store\";\nclass MealsEffects {\n  constructor(http, actions$, store) {\n    this.http = http;\n    this.actions$ = actions$;\n    this.store = store;\n    this.loadMeals = createEffect(() => this.actions$.pipe(ofType(MEALS_ACTIONS.INIT), switchMap(() => {\n      this.http.get(\"http://localhost:3000/meals\").subscribe(resp => {\n        console.log(resp);\n        return of(updateMeals({\n          value: resp\n        }));\n      });\n      return of(updateMeals({\n        value: []\n      }));\n    })));\n  }\n}\nMealsEffects.ɵfac = function MealsEffects_Factory(t) {\n  return new (t || MealsEffects)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Actions), i0.ɵɵinject(i3.Store));\n};\nMealsEffects.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: MealsEffects,\n  factory: MealsEffects.ɵfac\n});\nexport { MealsEffects };","map":{"version":3,"names":["createEffect","ofType","switchMap","of","MEALS_ACTIONS","updateMeals","MealsEffects","constructor","http","actions$","store","loadMeals","pipe","INIT","get","subscribe","resp","console","log","value","i0","ɵɵinject","i1","HttpClient","i2","Actions","i3","Store","factory","ɵfac"],"sources":["C:\\Users\\andrii.yakovliev\\Desktop\\projects\\2024\\udemy\\ANGULAR_COURSE\\01-starting-setup-standalone\\src\\app\\store\\meals\\meals.effects.ts"],"sourcesContent":["import {Injectable} from \"@angular/core\";\r\nimport {Actions, createEffect, ofType} from \"@ngrx/effects\";\r\nimport {Store} from \"@ngrx/store\";\r\nimport {IMeal} from \"./meals.reducer.\";\r\nimport {switchMap, of} from \"rxjs\";\r\nimport {MEALS_ACTIONS, updateMeals} from \"./meals.actions\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class MealsEffects {\r\n  loadMeals = createEffect(() => this.actions$.pipe(\r\n    ofType(MEALS_ACTIONS.INIT),\r\n    switchMap(() => {\r\n\r\n      this.http.get<IMeal[]>(\"http://localhost:3000/meals\").subscribe((resp) => {\r\n        console.log(resp)\r\n        return of(updateMeals({value: resp}))\r\n      })\r\n\r\n      return of(updateMeals({value: []}))\r\n    })\r\n  ))\r\n\r\n  constructor(private http: HttpClient, private actions$: Actions, private store: Store<{\r\n    meals: IMeal[],\r\n    isLoading: boolean\r\n  }>) {\r\n  }\r\n}\r\n"],"mappings":"AACA,SAAiBA,YAAY,EAAEC,MAAM,QAAO,eAAe;AAG3D,SAAQC,SAAS,EAAEC,EAAE,QAAO,MAAM;AAClC,SAAQC,aAAa,EAAEC,WAAW,QAAO,iBAAiB;;;;;AAG1D,MACaC,YAAY;EAcvBC,YAAoBC,IAAgB,EAAUC,QAAiB,EAAUC,KAGvE;IAHkB,KAAAF,IAAI,GAAJA,IAAI;IAAsB,KAAAC,QAAQ,GAARA,QAAQ;IAAmB,KAAAC,KAAK,GAALA,KAAK;IAb9E,KAAAC,SAAS,GAAGX,YAAY,CAAC,MAAM,IAAI,CAACS,QAAQ,CAACG,IAAI,CAC/CX,MAAM,CAACG,aAAa,CAACS,IAAI,CAAC,EAC1BX,SAAS,CAAC,MAAK;MAEb,IAAI,CAACM,IAAI,CAACM,GAAG,CAAU,6BAA6B,CAAC,CAACC,SAAS,CAAEC,IAAI,IAAI;QACvEC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,OAAOb,EAAE,CAACE,WAAW,CAAC;UAACc,KAAK,EAAEH;QAAI,CAAC,CAAC,CAAC;MACvC,CAAC,CAAC;MAEF,OAAOb,EAAE,CAACE,WAAW,CAAC;QAACc,KAAK,EAAE;MAAE,CAAC,CAAC,CAAC;IACrC,CAAC,CAAC,CACH,CAAC;EAMF;;AAlBWb,YAAY,C;mBAAZA,YAAY,EAAAc,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,OAAA,GAAAL,EAAA,CAAAC,QAAA,CAAAK,EAAA,CAAAC,KAAA;AAAA;AAAZrB,YAAY,C;SAAZA,YAAY;EAAAsB,OAAA,EAAZtB,YAAY,CAAAuB;AAAA;SAAZvB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}