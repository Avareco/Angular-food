{"ast":null,"code":"import { selectCartData } from '../store/cart/meals.selectors';\nimport { MatIconModule } from \"@angular/material/icon\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { RouterLink } from \"@angular/router\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/material/icon\";\nimport * as i3 from \"@angular/material/button\";\nclass AppHeaderComponent {\n  constructor(store) {\n    this.store = store;\n    this.itemsCount = 0;\n  }\n  ngOnInit() {\n    this.cartSubscription = this.store.select(selectCartData).subscribe(val => {\n      this.itemsCount = val.reduce((acc, item) => acc + item.count, 0);\n    });\n  }\n  ngOnDestroy() {\n    if (this.cartSubscription) {\n      this.cartSubscription.unsubscribe();\n    }\n  }\n}\nAppHeaderComponent.ɵfac = function AppHeaderComponent_Factory(t) {\n  return new (t || AppHeaderComponent)(i0.ɵɵdirectiveInject(i1.Store));\n};\nAppHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppHeaderComponent,\n  selectors: [[\"app-header\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 10,\n  vars: 1,\n  consts: [[1, \"d-flex\", \"justify-content-between\", \"container\", \"align-items-center\"], [\"mat-button\", \"\", \"role\", \"button\", \"routerLink\", \"/\", 1, \"d-flex\", \"align-items-center\"], [\"aria-hidden\", \"false\", \"aria-label\", \"Example home icon\", \"fontIcon\", \"home\", 1, \"mx-2\"], [1, \"position-relative\"], [\"routerLink\", \"cart\", \"mat-icon-button\", \"\", 1, \"d-flex\", \"align-items-center\"], [1, \"counter\", \"position-absolute\", \"top-0\", \"end-0\", \"rounded-circle\"]],\n  template: function AppHeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\", 0)(1, \"button\", 1);\n      i0.ɵɵtext(2, \" Home food \");\n      i0.ɵɵelement(3, \"mat-icon\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"button\", 4)(6, \"mat-icon\");\n      i0.ɵɵtext(7, \"shopping_cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate1(\" \", ctx.itemsCount, \"\");\n    }\n  },\n  dependencies: [MatIconModule, i2.MatIcon, MatButtonModule, i3.MatButton, i3.MatIconButton, RouterLink],\n  styles: [\".counter[_ngcontent-%COMP%] {\\r\\n  font-size: 1rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLWhlYWRlci9hcHAtaGVhZGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0FBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvdW50ZXIge1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { AppHeaderComponent };","map":{"version":3,"names":["selectCartData","MatIconModule","MatButtonModule","RouterLink","AppHeaderComponent","constructor","store","itemsCount","ngOnInit","cartSubscription","select","subscribe","val","reduce","acc","item","count","ngOnDestroy","unsubscribe","i0","ɵɵdirectiveInject","i1","Store","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AppHeaderComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","i2","MatIcon","i3","MatButton","MatIconButton","styles"],"sources":["C:\\Users\\andrii.yakovliev\\Desktop\\projects\\2024\\udemy\\ANGULAR_COURSE\\01-starting-setup-standalone\\src\\app\\app-header\\app-header.component.ts","C:\\Users\\andrii.yakovliev\\Desktop\\projects\\2024\\udemy\\ANGULAR_COURSE\\01-starting-setup-standalone\\src\\app\\app-header\\app-header.component.html"],"sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {Subscription} from 'rxjs';\nimport {selectCartData} from '../store/cart/meals.selectors';\nimport {ICartStore} from \"../store/cart/cart.reducer\";\nimport {MatIconModule} from \"@angular/material/icon\";\nimport {MatButtonModule} from \"@angular/material/button\";\nimport {RouterLink} from \"@angular/router\";\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './app-header.component.html',\n  styleUrls: ['./app-header.component.css'],\n  imports: [\n    MatIconModule,\n    MatButtonModule,\n    RouterLink\n  ],\n  standalone: true\n})\nexport class AppHeaderComponent implements OnInit, OnDestroy {\n  itemsCount = 0;\n  private cartSubscription: Subscription | undefined;\n\n  constructor(private store: Store<ICartStore>) {\n  }\n\n  ngOnInit(): void {\n    this.cartSubscription = this.store.select(selectCartData).subscribe((val) => {\n      this.itemsCount = val.reduce((acc, item) => acc + item.count, 0);\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.cartSubscription) {\n      this.cartSubscription.unsubscribe();\n    }\n  }\n}\n","<header class=\"d-flex justify-content-between container align-items-center \">\n\n  <button mat-button role=\"button\" routerLink=\"/\" class=\"d-flex align-items-center\">\n    Home food\n\n    <mat-icon class=\"mx-2\" aria-hidden=\"false\" aria-label=\"Example home icon\" fontIcon=\"home\"/>\n\n  </button>\n  <div class=\"position-relative\">\n    <button routerLink=\"cart\" class=\"d-flex align-items-center\" mat-icon-button>\n      <mat-icon>shopping_cart</mat-icon>\n      <div class=\"counter position-absolute top-0 end-0 rounded-circle\"> {{ itemsCount }}</div>\n    </button>\n  </div>\n\n</header>\n"],"mappings":"AAGA,SAAQA,cAAc,QAAO,+BAA+B;AAE5D,SAAQC,aAAa,QAAO,wBAAwB;AACpD,SAAQC,eAAe,QAAO,0BAA0B;AACxD,SAAQC,UAAU,QAAO,iBAAiB;;;;;AAE1C,MAWaC,kBAAkB;EAI7BC,YAAoBC,KAAwB;IAAxB,KAAAA,KAAK,GAALA,KAAK;IAHzB,KAAAC,UAAU,GAAG,CAAC;EAId;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACH,KAAK,CAACI,MAAM,CAACV,cAAc,CAAC,CAACW,SAAS,CAAEC,GAAG,IAAI;MAC1E,IAAI,CAACL,UAAU,GAAGK,GAAG,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACC,KAAK,EAAE,CAAC,CAAC;IAClE,CAAC,CAAC;EACJ;EAEAC,WAAWA,CAAA;IACT,IAAI,IAAI,CAACR,gBAAgB,EAAE;MACzB,IAAI,CAACA,gBAAgB,CAACS,WAAW,EAAE;;EAEvC;;AAjBWd,kBAAkB,C;mBAAlBA,kBAAkB,EAAAe,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,KAAA;AAAA;AAAlBlB,kBAAkB,C;QAAlBA,kBAAkB;EAAAmB,SAAA;EAAAC,UAAA;EAAAC,QAAA,GAAAN,EAAA,CAAAO,mBAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCpB/Bb,EAAA,CAAAe,cAAA,gBAA6E;MAGzEf,EAAA,CAAAgB,MAAA,kBAEA;MAAAhB,EAAA,CAAAiB,SAAA,kBAA2F;MAE7FjB,EAAA,CAAAkB,YAAA,EAAS;MACTlB,EAAA,CAAAe,cAAA,aAA+B;MAEjBf,EAAA,CAAAgB,MAAA,oBAAa;MAAAhB,EAAA,CAAAkB,YAAA,EAAW;MAClClB,EAAA,CAAAe,cAAA,aAAkE;MAACf,EAAA,CAAAgB,MAAA,GAAgB;MAAAhB,EAAA,CAAAkB,YAAA,EAAM;;;MAAtBlB,EAAA,CAAAmB,SAAA,GAAgB;MAAhBnB,EAAA,CAAAoB,kBAAA,MAAAN,GAAA,CAAA1B,UAAA,KAAgB;;;iBDGrFN,aAAa,EAAAuC,EAAA,CAAAC,OAAA,EACbvC,eAAe,EAAAwC,EAAA,CAAAC,SAAA,EAAAD,EAAA,CAAAE,aAAA,EACfzC,UAAU;EAAA0C,MAAA;AAAA;SAIDzC,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}