{"ast":null,"code":"import { createReducer, on } from \"@ngrx/store\";\nimport { setCart, updateCart } from \"./cart.actions\";\nconst initialState = {\n  cart: []\n};\nexport const cartReducer = createReducer(initialState, on(setCart, (state, action) => {\n  //TODO console.log(action)\n  return {\n    ...state,\n    cart: action.value\n  };\n}), on(updateCart, (state, action) => {\n  console.log(2, state.cart);\n  const cartMeal = state.cart.find(item => item.id === action.value);\n  if (cartMeal) {\n    return {\n      ...state,\n      cart: [...state.cart, {\n        id: action.value,\n        count: cartMeal.count + 1\n      }]\n    };\n  }\n  // console.log(action)\n  return {\n    ...state,\n    cart: [...state.cart, {\n      id: action.value,\n      count: 1\n    }]\n  };\n}));","map":{"version":3,"names":["createReducer","on","setCart","updateCart","initialState","cart","cartReducer","state","action","value","console","log","cartMeal","find","item","id","count"],"sources":["C:\\Users\\andrii.yakovliev\\Desktop\\projects\\2024\\udemy\\ANGULAR_COURSE\\01-starting-setup-standalone\\src\\app\\store\\cart\\cart.reducer.ts"],"sourcesContent":["import {createReducer, on} from \"@ngrx/store\";\r\nimport {setCart, updateCart} from \"./cart.actions\";\r\n\r\nexport interface ICart {\r\n  id: string,\r\n  count: number\r\n}\r\n\r\nexport interface ICartStore {\r\n  cart: ICart[]\r\n}\r\n\r\nconst initialState: ICartStore = {\r\n  cart: [],\r\n}\r\nexport const cartReducer = createReducer(initialState,\r\n  on(setCart, (state, action) => {\r\n    //TODO console.log(action)\r\n    return {...state, cart: action.value}\r\n  }),\r\n  on(updateCart, (state, action) => {\r\n    console.log(2, state.cart)\r\n    const cartMeal = state.cart.find((item) => item.id === action.value)\r\n\r\n    if (cartMeal) {\r\n      return {...state, cart: [...state.cart, {id: action.value, count: cartMeal.count + 1}]}\r\n    }\r\n\r\n    // console.log(action)\r\n    return {...state, cart: [...state.cart, {id: action.value, count: 1}]}\r\n  })\r\n)\r\n"],"mappings":"AAAA,SAAQA,aAAa,EAAEC,EAAE,QAAO,aAAa;AAC7C,SAAQC,OAAO,EAAEC,UAAU,QAAO,gBAAgB;AAWlD,MAAMC,YAAY,GAAe;EAC/BC,IAAI,EAAE;CACP;AACD,OAAO,MAAMC,WAAW,GAAGN,aAAa,CAACI,YAAY,EACnDH,EAAE,CAACC,OAAO,EAAE,CAACK,KAAK,EAAEC,MAAM,KAAI;EAC5B;EACA,OAAO;IAAC,GAAGD,KAAK;IAAEF,IAAI,EAAEG,MAAM,CAACC;EAAK,CAAC;AACvC,CAAC,CAAC,EACFR,EAAE,CAACE,UAAU,EAAE,CAACI,KAAK,EAAEC,MAAM,KAAI;EAC/BE,OAAO,CAACC,GAAG,CAAC,CAAC,EAAEJ,KAAK,CAACF,IAAI,CAAC;EAC1B,MAAMO,QAAQ,GAAGL,KAAK,CAACF,IAAI,CAACQ,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKP,MAAM,CAACC,KAAK,CAAC;EAEpE,IAAIG,QAAQ,EAAE;IACZ,OAAO;MAAC,GAAGL,KAAK;MAAEF,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAI,EAAE;QAACU,EAAE,EAAEP,MAAM,CAACC,KAAK;QAAEO,KAAK,EAAEJ,QAAQ,CAACI,KAAK,GAAG;MAAC,CAAC;IAAC,CAAC;;EAGzF;EACA,OAAO;IAAC,GAAGT,KAAK;IAAEF,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAI,EAAE;MAACU,EAAE,EAAEP,MAAM,CAACC,KAAK;MAAEO,KAAK,EAAE;IAAC,CAAC;EAAC,CAAC;AACxE,CAAC,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}